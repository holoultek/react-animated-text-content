{"version":3,"file":"react-animated-text-content.development.js","sources":["../src/helpers.ts","../src/styles/AnimatedFragment.styled.ts","../src/index.tsx"],"sourcesContent":["import { ReactText } from 'react';\nimport { WHITE_SPACE_CODE } from '.';\n\nexport const splitChildrenToFragments = (children: ReactText) =>\n  children.toString().split(' ');\n\nexport const concatFragments = (children: ReactText) => {\n  const splittedChildren = splitChildrenToFragments(children);\n\n  return ([] as string[])\n    .concat(\n      ...splittedChildren.map((word, index) =>\n        index !== 0 ? [WHITE_SPACE_CODE, word] : [word]\n      )\n    )\n    .map((word) => (word === ' ' ? WHITE_SPACE_CODE : word));\n};\n","import styled, { css } from 'styled-components';\nimport { AnimationShapeType } from '..';\n\nexport const AnimatedFragment = styled.span<{\n  count?: number;\n  interval?: number;\n}>`\n  position: relative;\n  display: inline-block;\n  visibility: hidden;\n`;\n\nexport const StyledWrapper = styled.div<{\n  uid: string;\n  count: number;\n  interval: number;\n  duration: number;\n  shouldAnimate: boolean;\n  animation: AnimationShapeType;\n}>`\n  @keyframes fragmentletter-${({ uid }) => uid} {\n    0% {\n      opacity: 0;\n      visibility: hidden;\n      transform: translateX(${({ animation: { x } }) => x ?? 0})\n        translateY(${({ animation: { y } }) => y ?? 0})\n        scale(${({ animation: { scale } }) => scale ?? 1});\n    }\n    100% {\n      oapcity: 1;\n      visibility: visible;\n      transform: translateX(0) translateY(0) scale(1);\n    }\n  }\n\n  & > span {\n    display: inline-block;\n  }\n\n  & ${AnimatedFragment} {\n    text-decoration: inherit;\n    vertical-align: inherit;\n\n    animation: ${({ animation: { ease }, duration }) =>\n      `${duration}s ${ease ?? 'ease-in-out'} forwards;`};\n\n    animation-name: ${({ shouldAnimate, uid }) =>\n      shouldAnimate ? `fragmentletter-${uid}` : ''};\n  }\n\n  ${({ count = 0, interval }) => {\n    let styles = '';\n\n    for (let i = 0; i < count; i += 1) {\n      styles += `${AnimatedFragment}:nth-of-type(${i + 1}) {\n            animation-delay: ${(interval || 0.04) * i}s;\n          }`;\n    }\n\n    return css`\n      ${styles}\n    `;\n  }}\n`;\n","import React, {\n  ElementType,\n  ReactText,\n  useEffect,\n  useState,\n  useRef,\n  FC,\n  ReactNode,\n} from 'react';\n\nimport { v4 as uuidv4 } from 'uuid';\nimport { concatFragments } from './helpers';\nimport {\n  AnimatedFragment,\n  StyledWrapper,\n} from './styles/AnimatedFragment.styled';\n\nexport interface AnimationShapeType {\n  x?: string;\n  y?: string;\n  scale?: number;\n  ease?: string;\n}\n\ntype AnimationType =\n  | 'blocks'\n  | 'wave'\n  | 'float'\n  | 'bounce'\n  | 'throw'\n  | 'diagonal'\n  | 'rifle'\n  | 'lights';\n\ninterface AnimatedTextProps {\n  type?: 'chars' | 'words';\n  children?: ReactText;\n  interval?: number;\n  duration?: number;\n  animation?: AnimationShapeType;\n  animationType?: AnimationType;\n  tag?: ElementType;\n  className?: string;\n  includeWhiteSpaces?: boolean;\n  threshold?: number;\n  rootMargin?: string;\n}\n\ninterface ExtendedAnimationShapeType extends AnimationShapeType {\n  duration?: number;\n  interval?: number;\n}\n\nconst PREDEFINED_ANIMATIONS: Record<AnimationType, ExtendedAnimationShapeType> =\n  {\n    blocks: {\n      y: '60px',\n      interval: 0.07,\n      duration: 0.7,\n    },\n    wave: {\n      y: '40px',\n      interval: 0.04,\n      duration: 0.4,\n      ease: 'ease-in-out',\n    },\n    float: {\n      x: '200px',\n      ease: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n      duration: 1.2,\n      interval: 0.1,\n    },\n    bounce: { y: '200px', ease: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)' },\n    throw: {\n      y: '200px',\n      scale: 2,\n      interval: 0.07,\n    },\n    diagonal: {\n      x: '200px',\n      y: '-200px',\n      ease: 'cubic-bezier(0.68, -4.55, 0.265, 1.55)',\n    },\n    rifle: {\n      y: '100px',\n      x: '-500px',\n      ease: 'ease-in',\n      duration: 0.3,\n      interval: 0.03,\n    },\n    lights: {\n      y: '-20px',\n      ease: 'ease-out',\n      duration: 1,\n      interval: 0.4,\n    },\n  };\n\nexport const WHITE_SPACE_CODE = ' ';\nconst DEFAULT_INTERVAL = 0.04;\nconst DEFAULT_DURATION = 0.4;\nconst DEFAULT_TYPE = 'words';\nconst DEFAULT_ANIMATION = {\n  y: '-30px',\n};\nconst DEFAULT_TAG = 'div';\nconst DEFAULT_INTESECTION_OBSERVER_ROOT_MARGIN = '20%';\nconst DEFAULT_THRESHOLD = 0;\n\nconst renderWords = (\n  arrayToRender: string[],\n  includeWhiteSpaces: boolean\n): ReactNode =>\n  arrayToRender.map((fragment, index) =>\n    fragment !== WHITE_SPACE_CODE ? (\n      <AnimatedFragment\n        key={index}\n        dangerouslySetInnerHTML={{ __html: fragment }}\n      />\n    ) : (\n      (includeWhiteSpaces && (\n        <AnimatedFragment\n          key={`${index}&nbsp;`}\n          dangerouslySetInnerHTML={{ __html: '&nbsp;' }}\n        />\n      )) ||\n      WHITE_SPACE_CODE\n    )\n  );\n\nconst renderChars = (\n  arrayToRender: string[],\n  interval: number,\n  includeWhiteSpaces: boolean\n): ReactNode => {\n  let fullIndex = -1;\n\n  return arrayToRender.map((fragment, index) => {\n    const chars =\n      fragment !== WHITE_SPACE_CODE ? Array.from(fragment) : [WHITE_SPACE_CODE];\n\n    if (chars[0] !== WHITE_SPACE_CODE)\n      return (\n        <span key={index}>\n          {chars.map((char, charIndex) => {\n            fullIndex += 1;\n\n            return (\n              <AnimatedFragment\n                key={charIndex}\n                dangerouslySetInnerHTML={{ __html: char }}\n                style={{ animationDelay: `${interval * fullIndex}s` }}\n              />\n            );\n          })}\n        </span>\n      );\n\n    return includeWhiteSpaces ? (\n      <AnimatedFragment\n        key={`${index}&nbsp;`}\n        dangerouslySetInnerHTML={{ __html: '&nbsp;' }}\n        style={{ animationDelay: `${interval * fullIndex}s` }}\n      />\n    ) : (\n      WHITE_SPACE_CODE\n    );\n  });\n};\n\nconst AnimatedText: FC<AnimatedTextProps> = ({\n  children = '',\n  type = DEFAULT_TYPE,\n  interval,\n  duration,\n  animation = DEFAULT_ANIMATION,\n  animationType = DEFAULT_TYPE,\n  tag = DEFAULT_TAG,\n  includeWhiteSpaces = false,\n  rootMargin,\n  threshold,\n  ...props\n}) => {\n  const [arrayToRender, setArrayToRender] = useState<string[]>([]);\n  const [shouldAnimate, setShouldAnimate] = useState(false);\n  const wrapperRef = useRef(null);\n\n  const animationOptions = PREDEFINED_ANIMATIONS?.[animationType] ?? animation;\n\n  useEffect(() => {\n    if (typeof children !== 'string' && typeof children !== 'number') {\n      console.error(\n        \"Only string (ReactText) is currently allowed as react-animated-text-content component's child. Please, change to proper type.\"\n      );\n      return;\n    }\n\n    const concatedChildren = concatFragments(children);\n    setArrayToRender(concatedChildren);\n\n    const observer = new IntersectionObserver(\n      (entries, observer) => {\n        entries.forEach((entry) => {\n          if (!entry.isIntersecting) return;\n\n          setShouldAnimate(true);\n          if (wrapperRef.current) observer.unobserve(wrapperRef.current);\n        });\n      },\n      {\n        rootMargin: rootMargin || DEFAULT_INTESECTION_OBSERVER_ROOT_MARGIN,\n        threshold: threshold || DEFAULT_THRESHOLD,\n      }\n    );\n\n    if (wrapperRef.current) {\n      observer.observe(wrapperRef.current);\n    }\n\n    return () => {\n      setArrayToRender([]);\n      setShouldAnimate(false);\n    };\n  }, [children, type]);\n\n  const uid = uuidv4();\n\n  return (\n    <StyledWrapper\n      as={tag}\n      count={type === 'words' ? arrayToRender.length : 0}\n      interval={interval || (animationOptions?.interval ?? DEFAULT_INTERVAL)}\n      duration={duration || (animationOptions?.duration ?? DEFAULT_DURATION)}\n      ref={wrapperRef}\n      shouldAnimate={shouldAnimate}\n      uid={uid}\n      animation={animationOptions}\n      data-testid=\"animated-text\"\n      {...props}\n    >\n      {type === 'words'\n        ? renderWords(arrayToRender, includeWhiteSpaces)\n        : renderChars(\n            arrayToRender,\n            interval || (animationOptions?.interval ?? DEFAULT_INTERVAL),\n            includeWhiteSpaces\n          )}\n    </StyledWrapper>\n  );\n};\n\nexport default AnimatedText;\n"],"names":["styled","css","React","useState","useRef","useEffect","uuidv4"],"mappings":"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"}